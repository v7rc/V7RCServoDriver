# V7RCServoDriver (ภาษาไทย)

ไลบรารีควบคุม BLE แบบหน่วงต่ำสำหรับ ESP32 ใช้งานร่วมกับ **V7RC App (V7RCDOM V2.0)**
เพื่อควบคุม **Servo / DC Motor** และรองรับการขับเคลื่อนแบบ **Differential** และ **Mecanum**.


> **พฤติกรรม LED**
> เมื่อเปิดใช้งาน WS2812 แถบ LED จะเริ่มเป็นสีแดงและกระพริบทุก 1 วินาทีเมื่อยังไม่ได้เชื่อมต่อ
> เมื่อมีการเชื่อมต่อ BLE แล้ว LED จะเปลี่ยนเป็นสีเขียวค้างไว้
> ต้องเปิดใช้งาน LED โดยตั้ง `ws2812Enable` ใน `V7RC_DriverConfig` ให้เป็น `true`
>
> ### โปรโตคอล LED
> โปรโตคอล V7RC แบบกำหนดเองช่วยให้แอปกำหนดค่าแต่ละ LED ได้ รูปแบบคือ
> `LE?yyyyyyyyyyyyyyyy#` โดย `?` อาจเป็น `D` หรือเลข (`1`–`9`) `D` และ `1`
> หมายถึงกลุ่ม LED สี่ดวงแรก `2` หมายถึงดวงที่ 5‑8, `3` หมายถึงดวงที่ 9‑12 เป็นต้น
> (เลข `n` เลือกกลุ่มที่ `n‑1` ของสี่ดวง) สามารถขยายกลุ่มเพิ่มเติมได้ด้วยเลขที่ใหญ่กว่า
> แต่ละ LED ใช้ 4 ตัวอักษร (R,G,B,blink) R/G/B เป็นเลขฐาน 16 `0`–`F` (0..15)
> ซึ่งคูณด้วย 17 เพื่อเปลี่ยนเป็น 0..255 `blink` เป็น `0`–`A` (0..10)
> แสดงเวลาเปิดต่อวินาที 0–1000 มิลลิวินาที (`ค่า*100`) ตัวอย่าง:
> `LEDF00A0F0A00FAFFF5#` จะตั้งค่า LED สี่ดวงแรก โดยหลอดแรกสีแดง หลอดที่สองสีเขียว
> หลอดที่สามสีน้ำเงิน และหลอดที่สี่เป็นสีขาวกระพริบ (500 ms เปิด / 500 ms ปิด)
>
> คำสั่งที่ได้รับจะถูกวิเคราะห์และนำไปใช้ทันที การตั้งค่าที่กำหนดเองจะทับ
> การแสดงแอนิเมชันการเชื่อมต่อเริ่มต้นจนกว่าจะมีการล้าง (ปัจจุบันยังไม่มีคำสั่งล้าง)

## เอกสาร
- Quick Start (การศึกษา 10 นาที): `QUICK_START_EDU.md`
- Examples:
  - Mecanum: `examples/ESP32_C3_Mini_Mecanum_V3/ESP32_C3_Mini_Mecanum_V3.ino`
  - Differential: `examples/ESP32_C3_Differential_Drive/ESP32_C3_Differential_Drive.ino`

## ปัญหาที่พบบ่อย
- หา header ของ NimBLE ไม่เจอ: ติดตั้ง **NimBLE-Arduino** และใช้ `#include <NimBLEDevice.h>`

## Maintainer
V7RC / V7 Idea Technology Ltd.  
Maintainer: Louis Chuang <louis@v7idea.com.tw>